<html>
<head>
</head>
<body>
  <script src="https://www.gstatic.com/firebasejs/5.4.2/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyC4m6cUGENeYfQuQGrEUc99H-aAlT7rY78",
    authDomain: "new-project1-73257.firebaseapp.com",
    databaseURL: "https://new-project1-73257.firebaseio.com",
    projectId: "new-project1-73257",
    storageBucket: "new-project1-73257.appspot.com",
    messagingSenderId: "353734088272"
  };
  firebase.initializeApp(config);

  const messaging=firebase.messaging();

  messaging.requestPermission().then(function() {
  console.log('Notification permission granted.');
  // TODO(developer): Retrieve an Instance ID token for use with FCM.
  // ...

  messaging.getToken().then(function(currentToken) {
  if (currentToken) {
    console.log(currentToken)
    
  } else {
    // Show permission request.
    console.log('No Instance ID token available. Request permission to generate one.');
    // Show permission UI.
  }
}).catch(function(err) {
  console.log('An error occurred while retrieving token. ', err);
});
}).catch(function(err) {
  console.log('Unable to get permission to notify.', err);
});



messaging.onMessage(function(payload) {
  alert("payload")
  // ...
});


</script>
</body>


</html>


